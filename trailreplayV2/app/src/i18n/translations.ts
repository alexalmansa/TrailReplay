export const translations = {
  en: {
    app: {
      title: 'Trail Replay',
      subtitle: 'GPX VISUALIZATION',
      welcomeTitle: 'Welcome to Trail Replay v2',
      welcomeBody: 'Upload GPX files to visualize your trails, create journeys, and export stunning videos.',
      welcomeNotice: 'New v2 experience! Switch between versions using the toggle in the header.',
      uploadButton: 'Upload GPX Files',
      exploreButton: 'Explore Map',
      aboutTitle: 'About & Info',
      fullscreen: 'Toggle fullscreen',
      support: 'Support',
      supportTitle: 'Support TrailReplay',
    },
    sidebar: {
      tabs: {
        tracks: 'Tracks',
        journey: 'Journey',
        annotations: 'Style',
        pictures: 'Media',
        export: 'Export',
        settings: 'Settings',
      },
      footerTitle: 'Trail Replay',
      footerSubtitle: 'GPX Visualization v2.0',
      footerGithub: 'View on GitHub',
    },
    tracks: {
      dropTitle: 'Drag & drop GPX files',
      dropActive: 'Drop GPX files here',
      dropBrowse: 'or click to browse',
      parsing: 'Parsing GPX files...',
      loadedTracks: 'Loaded Tracks ({count})',
      dragReorder: 'Drag to reorder',
      comparisonTitle: 'Comparison Mode',
      comparisonHint: 'Add a second GPX track to compare side-by-side during animation.',
      addComparison: '+ Add Comparison Track',
      parsingComparison: 'Parsing...',
      emptyTitle: 'No tracks loaded yet',
      emptySubtitle: 'Upload GPX files to get started',
      explore: 'Explore Map',
      comparisonToggleOpen: '▾',
      comparisonToggleClosed: '▸',
      clickRename: 'Click to rename',
      distance: 'Distance',
      time: 'Time',
      speed: 'Speed',
      gain: 'gain',
      loss: 'loss',
      max: 'max',
      points: 'points',
    },
    settings: {
      title: 'Map Style',
      overlaysTitle: 'Overlays',
      cameraTitle: 'Camera Mode',
      displayOptions: 'Display Options',
      show3dTerrain: '3D Terrain',
      showHeartRate: 'Heart Rate Colors',
      showPictures: 'Show Pictures',
      mapStyles: {
        satellite: 'Satellite',
        topo: 'Topographic',
        street: 'Streets',
        outdoor: 'Outdoor',
        esri: 'Esri Clarity',
        wayback: 'Wayback',
      },
      overlays: {
        placeLabels: 'Place Names',
        placeLabelsDesc: 'Carto place labels overlay',
        skiPistes: 'Ski Pistes',
        skiPistesDesc: 'OpenSnowMap ski runs overlay',
        slope: 'Slope',
        slopeDesc: 'Color-coded terrain steepness',
        aspect: 'Aspect',
        aspectDesc: 'Terrain orientation (N/E/S/W) colors',
      },
      waybackDate: 'Wayback date',
      waybackLoading: 'Loading dates...',
      waybackSelect: 'Select a date',
      waybackNote: 'Esri Wayback imagery releases (publish dates, not exact capture dates).',
      waybackError: 'Unable to load Wayback dates.',
      slopeLegendTitle: 'Slope Steepness',
      slopeLegendMild: '<25° — Mild',
      slopeLegendModerate: '25–30° — Moderate',
      slopeLegendSteep: '30–35° — Steep',
      slopeLegendVerySteep: '35–40° — Very Steep',
      slopeLegendExtreme: '40–45° — Extreme',
      slopeLegendCliff: '>45° — Cliff',
      slopeLegendFooter: 'Computed from AWS Terrain Tiles elevation data',
      aspectLegendTitle: 'Aspect (Terrain Orientation)',
      aspectLegendNorth: 'North',
      aspectLegendNortheast: 'Northeast',
      aspectLegendEast: 'East',
      aspectLegendSoutheast: 'Southeast',
      aspectLegendSouth: 'South',
      aspectLegendSouthwest: 'Southwest',
      aspectLegendWest: 'West',
      aspectLegendNorthwest: 'Northwest',
      aspectLegendFooter: 'Transparent on very flat terrain',
      cameraModes: {
        overview: 'Overview',
        overviewDesc: 'Fixed view of entire track',
        follow: 'Follow',
        followDesc: 'Follow marker from above',
        followBehind: 'Follow Behind',
        followBehindDesc: 'Cinematic view from behind',
      },
      followPresets: {
        title: 'Distance Preset',
        veryClose: 'Very Close',
        close: 'Close',
        medium: 'Medium',
        far: 'Far',
      },
      units: 'Units',
      unitMetric: 'Metric (km)',
      unitImperial: 'Imperial (mi)',
      language: 'Language',
    },
    info: {
      title: 'About Trail Replay',
      builtWith: 'Built With',
      builtWithBody: 'MapLibre GL JS, React, Vite, and a stack of open mapping data providers.',
      acknowledgments: 'See all acknowledgments',
      mapSources: 'Map Data Sources',
      connect: 'Connect',
      github: 'View on GitHub',
      instagram: 'Follow on Instagram',
      support: 'Support the Project',
      donateTitle: 'Buy me a coffee',
      donateSubtitle: 'Help keep TrailReplay free',
      legal: 'Legal',
      privacy: 'Privacy Policy',
      terms: 'Terms of Service',
      feedback: 'Feedback',
      feedbackTitle: 'Send Feedback',
      feedbackSubtitle: 'Report bugs or suggest features',
      footer: 'Made with love for outdoor enthusiasts',
      esri: 'Esri World Imagery & Wayback satellite basemaps and historical releases.',
      opensnow: 'OpenSnowMap.org ski piste overlay. Data © OpenStreetMap contributors (ODbL), OpenSnowMap.org (CC-BY-SA).',
      osmContrib: 'contributors (ODbL) ·',
      osmOpenTopo: '(CC-BY-SA) ·',
      osmLabels: 'labels ·',
      osmOpenTopography: 'OpenTopography (ASTER GDEM)',
    },
    feedback: {
      promptTitle: 'Share your thoughts?',
      promptBody: "We'd love to hear which version you prefer - v1 or v2!",
      yes: 'Sure!',
      maybeLater: 'Maybe later',
      dontAsk: "Don't ask again",
      formHeader: 'Version Comparison Feedback',
      formTitle: 'Which version do you prefer?',
      formSubtitle: 'Help us prioritize improvements',
      v1: 'v1 (Classic)',
      v2: 'v2 (New)',
      both: 'Both',
      v1Label: 'Classic',
      v2Label: 'New',
      additional: 'Any additional feedback? (optional)',
      additionalPlaceholder: 'What do you like or dislike about each version?',
      emailLabel: 'Your email (optional, for follow-up)',
      emailPlaceholder: 'email@example.com',
      submit: 'Submit',
      skip: 'Skip',
      submitting: 'Sending...',
      thanks: 'Thanks for your feedback!',
      thanksTitle: 'Thank you!',
      thanksBody: 'Your feedback helps us improve Trail Replay.',
      error: 'Something went wrong. Please try again.',
      errorSend: 'Failed to send feedback. Please try again.',
    },
    stats: {
      distance: 'Distance',
      duration: 'Duration',
      avgPace: 'Avg Pace',
      elev: 'Elev',
      cadence: 'Cadence',
      power: 'Power',
      track: 'Track',
      transport: 'Transport',
      transportLabels: {
        car: 'Driving',
        bus: 'Bus',
        train: 'Train',
        plane: 'Flying',
        bike: 'Cycling',
        walk: 'Walking',
        ferry: 'Ferry',
      },
    },
    common: {
      name: 'Name',
      color: 'Color',
      cancel: 'Cancel',
      save: 'Save',
      done: 'Done',
      clickRename: 'Click to rename',
      secondsShort: 's',
      processing: 'Processing...',
    },
    colors: {
      trailOrange: 'Trail Orange',
      green: 'Green',
      teal: 'Teal',
      blue: 'Blue',
      red: 'Red',
      purple: 'Purple',
    },
    activities: {
      running: 'Running',
      runner: 'Runner',
      cycling: 'Cycling',
      cyclist: 'Cyclist',
      hiking: 'Hiking',
      walking: 'Walking',
      walker: 'Walker',
      skiing: 'Skiing',
      swimming: 'Swimming',
      climbing: 'Climbing',
      horse: 'Horse',
      kayak: 'Kayak',
      skate: 'Skate',
      ski: 'Ski',
      snowboard: 'Snowboard',
      car: 'Car',
      plane: 'Plane',
      train: 'Train',
    },
    annotations: {
      tracksTitle: 'Tracks',
      trailTitle: 'Trail',
      noTracks: 'Load a GPX track to set its colour and name.',
      trackLabel: 'Track {index}',
      mainTrack: 'Main Track',
      comparisonNumbered: 'Comparison {index}',
      comparisonSingle: 'Comparison',
      labelsTitle: 'Labels',
      showOnMap: 'Show on map',
      labelsHint: "Each track's name floats next to its marker on the map.",
      markerTitle: 'Marker',
      showMarker: 'Show Marker',
      size: 'Size',
      activityIcon: 'Activity Icon',
      changeIcon: 'Change Icon',
      glowCircle: 'Glow Circle',
      selectIcon: 'Select Activity Icon',
    },
    journey: {
      defaultSettings: 'Default Settings',
      defaultTrackTime: 'Default Track Time',
      defaultTrackTimeHint: 'Each track will take this time to complete in the animation',
      totalDistance: 'Total Distance:',
      totalDuration: 'Total Duration:',
      totalSegments: 'Segments:',
      quickStart: 'Quick Start',
      quickStartHint: '1) Add tracks below. 2) Drag to reorder. 3) Use “Add Transport” between tracks.',
      addAllTracks: 'Add All Tracks',
      clearJourney: 'Clear Journey',
      addTracksTitle: 'Add Tracks to Journey',
      addTracksHint: 'Click a track to add it to the timeline. Added tracks are disabled.',
      added: 'added',
      timelineTitle: 'Journey Timeline',
      dragToReorder: 'Drag to reorder',
      emptyTitle: 'No segments in journey',
      emptySubtitle: 'Add tracks and transport modes',
      addTransport: 'Add Transport',
      runsSimultaneously: 'Runs Simultaneously',
      runsSimultaneouslyHint: 'These tracks animate at the same time as your main journey, from start to finish.',
      fullJourney: 'full journey',
      selectTransportTitle: 'Select Transport Mode',
      selectTransportHint: 'How did you travel between these tracks?',
      editDurationTitle: 'Edit Duration',
      durationSeconds: 'Duration (seconds)',
      durationHint: 'This is how long this segment will take in the animation',
      goToSegment: 'Go to this segment',
      transportSegment: '{mode} Transport',
    },
    media: {
      picturesTab: 'Pictures ({count})',
      videosTab: 'Videos ({count})',
      dropFiles: 'Drop files here',
      dragDropPictures: 'Drag & drop pictures',
      dragDropVideos: 'Drag & drop videos',
      dropBrowse: 'or click to browse',
      noPictures: 'No pictures uploaded',
      noPicturesHint: 'Add pictures to show on the map',
      noVideos: 'No videos uploaded',
      noVideosHint: 'Add videos to show on the map',
      previewPicture: 'Preview picture',
      trailAlt: 'Trail',
      gps: 'GPS',
      percentOfJourney: '{percent}% of journey',
      displayDuration: '{seconds}s display',
      editDuration: 'Edit duration',
      displayFor: 'Display for:',
      seconds: 'seconds',
      trailPictureAlt: 'Trail picture',
      imageUnavailable: 'Image unavailable',
    },
    export: {
      title: 'Export Settings',
      format: 'Format',
      ratio: 'Ratio',
      quality: 'Quality',
      duration: 'Duration',
      fallbackWebm: '(WebM)',
      howItWorksTitle: 'How it works:',
      howItWorksBody:
        'Recording captures the full map view — including the stats overlay, elevation profile, and track animation — exactly as it appears on screen. The animation resets to the beginning before recording starts.',
      startRecording: 'Start Recording',
      needsJourney: 'Load a track and add it to the journey first',
      recordingInProgress: 'Recording in progress...',
      complete: 'Export complete!',
      downloadAgain: 'Download Again',
      newExport: 'New Export',
      mp4Unsupported:
        'MP4 is not natively supported in this browser. Will record as WebM instead. Use Safari or Chrome for native MP4 export.',
      mp4Supported: 'Native MP4 recording supported.',
      aspectRatio: 'Aspect Ratio',
      aspectLandscape: 'Landscape',
      aspectSquare: 'Square',
      aspectPortrait: 'Portrait',
      frameRate: 'Frame Rate',
      fpsLabel: '{fps} FPS',
      overlays: 'Overlays',
      statsOverlay: 'Stats overlay (distance, pace, elevation)',
      elevationProfile: 'Elevation profile chart',
      logoNote: 'Logo watermark is always included.',
      recording: 'Recording',
      recordingIntro: 'Recording intro...',
      recordingOutro: 'Recording outro...',
      stageFinalizing: 'Finalizing...',
      noCanvas: 'No map canvas found. Please load a track first.',
      stagePreparing: 'Preparing...',
      stageCreateCanvas: 'Creating recording canvas...',
      stageLoadOverlay: 'Loading overlay capture library...',
      stageResetting: 'Resetting to start...',
      stageSetupRecorder: 'Setting up recorder...',
      stageComplete: 'Complete!',
      stageFailedNoData: 'Export failed - no data recorded',
      stageStartingRecording: 'Starting recording...',
      stageRecordingAnimation: 'Recording animation...',
      stageFailedWithError: 'Export failed: {error}',
    },
    map: {
      loading: 'Loading map...',
    },
    errors: {
      noValidGpx: 'No valid GPX files found',
      parseGpxFailed: 'Failed to parse GPX files',
    },
  },
  es: {
    app: {
      title: 'Trail Replay',
      subtitle: 'VISUALIZACIÓN GPX',
      welcomeTitle: 'Bienvenido a Trail Replay v2',
      welcomeBody: 'Sube archivos GPX para visualizar tus rutas, crear recorridos y exportar vídeos increíbles.',
      welcomeNotice: '¡Nueva experiencia v2! Cambia entre versiones con el selector del encabezado.',
      uploadButton: 'Subir archivos GPX',
      exploreButton: 'Explorar mapa',
      aboutTitle: 'Acerca de & Info',
      fullscreen: 'Pantalla completa',
      support: 'Apoyar',
      supportTitle: 'Apoya TrailReplay',
    },
    sidebar: {
      tabs: {
        tracks: 'Rutas',
        journey: 'Recorrido',
        annotations: 'Estilo',
        pictures: 'Medios',
        export: 'Exportar',
        settings: 'Ajustes',
      },
      footerTitle: 'Trail Replay',
      footerSubtitle: 'Visualización GPX v2.0',
      footerGithub: 'Ver en GitHub',
    },
    tracks: {
      dropTitle: 'Arrastra y suelta archivos GPX',
      dropActive: 'Suelta los archivos GPX aquí',
      dropBrowse: 'o haz clic para buscar',
      parsing: 'Analizando archivos GPX...',
      loadedTracks: 'Rutas cargadas ({count})',
      dragReorder: 'Arrastra para reordenar',
      comparisonTitle: 'Modo de comparación',
      comparisonHint: 'Añade una segunda ruta GPX para comparar lado a lado durante la animación.',
      addComparison: '+ Añadir ruta de comparación',
      parsingComparison: 'Analizando...',
      emptyTitle: 'No hay rutas cargadas',
      emptySubtitle: 'Sube archivos GPX para empezar',
      explore: 'Explorar mapa',
      comparisonToggleOpen: '▾',
      comparisonToggleClosed: '▸',
      clickRename: 'Clic para renombrar',
      distance: 'Distancia',
      time: 'Tiempo',
      speed: 'Velocidad',
      gain: 'subida',
      loss: 'bajada',
      max: 'máx',
      points: 'puntos',
    },
    settings: {
      title: 'Estilo de mapa',
      overlaysTitle: 'Superposiciones',
      cameraTitle: 'Modo de cámara',
      displayOptions: 'Opciones de visualización',
      show3dTerrain: 'Terreno 3D',
      showHeartRate: 'Colores de pulso',
      showPictures: 'Mostrar imágenes',
      mapStyles: {
        satellite: 'Satélite',
        topo: 'Topográfico',
        street: 'Calles',
        outdoor: 'Exterior',
        esri: 'Esri Clarity',
        wayback: 'Wayback',
      },
      overlays: {
        placeLabels: 'Nombres de lugares',
        placeLabelsDesc: 'Superposición de etiquetas de Carto',
        skiPistes: 'Pistas de esquí',
        skiPistesDesc: 'Superposición de OpenSnowMap',
        slope: 'Pendiente',
        slopeDesc: 'Pendiente del terreno en colores',
        aspect: 'Orientación',
        aspectDesc: 'Orientación del terreno (N/E/S/O)',
      },
      waybackDate: 'Fecha Wayback',
      waybackLoading: 'Cargando fechas...',
      waybackSelect: 'Selecciona una fecha',
      waybackNote: 'Las fechas son de publicación, no de captura exacta.',
      waybackError: 'No se pudieron cargar las fechas de Wayback.',
      slopeLegendTitle: 'Inclinación del terreno',
      slopeLegendMild: '<25° — Suave',
      slopeLegendModerate: '25–30° — Moderada',
      slopeLegendSteep: '30–35° — Fuerte',
      slopeLegendVerySteep: '35–40° — Muy fuerte',
      slopeLegendExtreme: '40–45° — Extrema',
      slopeLegendCliff: '>45° — Acantilado',
      slopeLegendFooter: 'Calculado con AWS Terrain Tiles',
      aspectLegendTitle: 'Orientación del terreno',
      aspectLegendNorth: 'Norte',
      aspectLegendNortheast: 'Noreste',
      aspectLegendEast: 'Este',
      aspectLegendSoutheast: 'Sureste',
      aspectLegendSouth: 'Sur',
      aspectLegendSouthwest: 'Suroeste',
      aspectLegendWest: 'Oeste',
      aspectLegendNorthwest: 'Noroeste',
      aspectLegendFooter: 'Transparente en terreno muy plano',
      cameraModes: {
        overview: 'Panorámica',
        overviewDesc: 'Vista fija de toda la ruta',
        follow: 'Seguir',
        followDesc: 'Seguir el marcador desde arriba',
        followBehind: 'Seguir desde atrás',
        followBehindDesc: 'Vista cinematográfica desde atrás',
      },
      followPresets: {
        title: 'Preset de distancia',
        veryClose: 'Muy cerca',
        close: 'Cerca',
        medium: 'Medio',
        far: 'Lejos',
      },
      units: 'Unidades',
      unitMetric: 'Métrico (km)',
      unitImperial: 'Imperial (mi)',
      language: 'Idioma',
    },
    info: {
      title: 'Acerca de Trail Replay',
      builtWith: 'Tecnología',
      builtWithBody: 'MapLibre GL JS, React, Vite y proveedores de mapas abiertos.',
      acknowledgments: 'Ver agradecimientos',
      mapSources: 'Fuentes de mapas',
      connect: 'Conectar',
      github: 'Ver en GitHub',
      instagram: 'Seguir en Instagram',
      support: 'Apoya el proyecto',
      donateTitle: 'Invítame a un café',
      donateSubtitle: 'Ayuda a mantener TrailReplay gratis',
      legal: 'Legal',
      privacy: 'Política de privacidad',
      terms: 'Términos de servicio',
      feedback: 'Feedback',
      feedbackTitle: 'Enviar feedback',
      feedbackSubtitle: 'Reporta errores o sugiere funciones',
      footer: 'Hecho con cariño para amantes del exterior',
      esri: 'Esri World Imagery y Wayback: satélite e исторicо.',
      opensnow: 'OpenSnowMap.org: pistas de esquí. Datos © OpenStreetMap (ODbL), OpenSnowMap (CC-BY-SA).',
      osmContrib: 'colaboradores (ODbL) ·',
      osmOpenTopo: '(CC-BY-SA) ·',
      osmLabels: 'etiquetas ·',
      osmOpenTopography: 'OpenTopography (ASTER GDEM)',
    },
    feedback: {
      promptTitle: '¿Compartes tu opinión?',
      promptBody: 'Nos encantaría saber qué versión prefieres: v1 o v2.',
      yes: '¡Claro!',
      maybeLater: 'Más tarde',
      dontAsk: 'No preguntar de nuevo',
      formHeader: 'Feedback de comparación',
      formTitle: '¿Qué versión prefieres?',
      formSubtitle: 'Ayúdanos a priorizar mejoras',
      v1: 'v1 (Clásica)',
      v2: 'v2 (Nueva)',
      both: 'Ambas',
      v1Label: 'Clásica',
      v2Label: 'Nueva',
      additional: '¿Algún comentario adicional? (opcional)',
      additionalPlaceholder: '¿Qué te gusta o no te gusta de cada versión?',
      emailLabel: 'Tu email (opcional, para seguimiento)',
      emailPlaceholder: 'email@example.com',
      submit: 'Enviar',
      skip: 'Saltar',
      submitting: 'Enviando...',
      thanks: '¡Gracias por tu feedback!',
      thanksTitle: '¡Gracias!',
      thanksBody: 'Tu feedback nos ayuda a mejorar Trail Replay.',
      error: 'Algo salió mal. Inténtalo de nuevo.',
      errorSend: 'No se pudo enviar el feedback. Inténtalo de nuevo.',
    },
    stats: {
      distance: 'Distancia',
      duration: 'Duración',
      avgPace: 'Ritmo medio',
      elev: 'Elevación',
      cadence: 'Cadencia',
      power: 'Potencia',
      track: 'Ruta',
      transport: 'Transporte',
      transportLabels: {
        car: 'Conduciendo',
        bus: 'Bus',
        train: 'Tren',
        plane: 'Volando',
        bike: 'Ciclismo',
        walk: 'Caminando',
        ferry: 'Ferry',
      },
    },
    common: {
      name: 'Nombre',
      color: 'Color',
      cancel: 'Cancelar',
      save: 'Guardar',
      done: 'Listo',
      clickRename: 'Clic para renombrar',
      secondsShort: 's',
      processing: 'Procesando...',
    },
    colors: {
      trailOrange: 'Naranja trail',
      green: 'Verde',
      teal: 'Turquesa',
      blue: 'Azul',
      red: 'Rojo',
      purple: 'Morado',
    },
    activities: {
      running: 'Correr',
      runner: 'Corredor',
      cycling: 'Ciclismo',
      cyclist: 'Ciclista',
      hiking: 'Senderismo',
      walking: 'Caminar',
      walker: 'Caminante',
      skiing: 'Esquí',
      swimming: 'Natación',
      climbing: 'Escalada',
      horse: 'Caballo',
      kayak: 'Kayak',
      skate: 'Skate',
      ski: 'Esquí',
      snowboard: 'Snowboard',
      car: 'Coche',
      plane: 'Avión',
      train: 'Tren',
    },
    annotations: {
      tracksTitle: 'Rutas',
      trailTitle: 'Ruta',
      noTracks: 'Carga un track GPX para ajustar su color y nombre.',
      trackLabel: 'Ruta {index}',
      mainTrack: 'Ruta principal',
      comparisonNumbered: 'Comparación {index}',
      comparisonSingle: 'Comparación',
      labelsTitle: 'Etiquetas',
      showOnMap: 'Mostrar en el mapa',
      labelsHint: 'El nombre de cada ruta aparece junto a su marcador en el mapa.',
      markerTitle: 'Marcador',
      showMarker: 'Mostrar marcador',
      size: 'Tamaño',
      activityIcon: 'Icono de actividad',
      changeIcon: 'Cambiar icono',
      glowCircle: 'Círculo de brillo',
      selectIcon: 'Selecciona un icono de actividad',
    },
    journey: {
      defaultSettings: 'Ajustes predeterminados',
      defaultTrackTime: 'Tiempo por defecto de la ruta',
      defaultTrackTimeHint: 'Cada ruta tardará este tiempo en completarse en la animación',
      totalDistance: 'Distancia total:',
      totalDuration: 'Duración total:',
      totalSegments: 'Segmentos:',
      quickStart: 'Inicio rápido',
      quickStartHint: '1) Añade rutas abajo. 2) Arrastra para reordenar. 3) Usa “Añadir transporte” entre rutas.',
      addAllTracks: 'Añadir todas las rutas',
      clearJourney: 'Limpiar recorrido',
      addTracksTitle: 'Añadir rutas al recorrido',
      addTracksHint: 'Haz clic en una ruta para añadirla a la línea de tiempo. Las rutas añadidas quedan desactivadas.',
      added: 'añadida',
      timelineTitle: 'Línea de tiempo del recorrido',
      dragToReorder: 'Arrastra para reordenar',
      emptyTitle: 'No hay segmentos en el recorrido',
      emptySubtitle: 'Añade rutas y transportes',
      addTransport: 'Añadir transporte',
      runsSimultaneously: 'Se ejecutan simultáneamente',
      runsSimultaneouslyHint: 'Estas rutas se animan al mismo tiempo que tu recorrido principal, de inicio a fin.',
      fullJourney: 'recorrido completo',
      selectTransportTitle: 'Selecciona modo de transporte',
      selectTransportHint: '¿Cómo viajaste entre estas rutas?',
      editDurationTitle: 'Editar duración',
      durationSeconds: 'Duración (segundos)',
      durationHint: 'Este es el tiempo que durará este segmento en la animación',
      goToSegment: 'Ir a este segmento',
      transportSegment: 'Transporte {mode}',
    },
    media: {
      picturesTab: 'Fotos ({count})',
      videosTab: 'Vídeos ({count})',
      dropFiles: 'Suelta los archivos aquí',
      dragDropPictures: 'Arrastra y suelta fotos',
      dragDropVideos: 'Arrastra y suelta vídeos',
      dropBrowse: 'o haz clic para buscar',
      noPictures: 'No hay fotos subidas',
      noPicturesHint: 'Añade fotos para mostrarlas en el mapa',
      noVideos: 'No hay vídeos subidos',
      noVideosHint: 'Añade vídeos para mostrarlos en el mapa',
      previewPicture: 'Previsualizar foto',
      trailAlt: 'Ruta',
      gps: 'GPS',
      percentOfJourney: '{percent}% del recorrido',
      displayDuration: '{seconds}s en pantalla',
      editDuration: 'Editar duración',
      displayFor: 'Mostrar durante:',
      seconds: 'segundos',
      trailPictureAlt: 'Foto de la ruta',
      imageUnavailable: 'Imagen no disponible',
    },
    export: {
      title: 'Ajustes de exportación',
      format: 'Formato',
      ratio: 'Relación',
      quality: 'Calidad',
      duration: 'Duración',
      fallbackWebm: '(WebM)',
      howItWorksTitle: 'Cómo funciona:',
      howItWorksBody:
        'La grabación captura la vista completa del mapa —incluyendo el panel de estadísticas, el perfil de elevación y la animación del track— exactamente como se ve en pantalla. La animación se reinicia al inicio antes de comenzar a grabar.',
      startRecording: 'Iniciar grabación',
      needsJourney: 'Carga una ruta y añádela al recorrido primero',
      recordingInProgress: 'Grabación en curso...',
      complete: '¡Exportación completa!',
      downloadAgain: 'Descargar de nuevo',
      newExport: 'Nueva exportación',
      mp4Unsupported:
        'MP4 no es compatible de forma nativa en este navegador. Se grabará como WebM. Usa Safari o Chrome para exportar MP4 nativo.',
      mp4Supported: 'Grabación MP4 nativa compatible.',
      aspectRatio: 'Relación de aspecto',
      aspectLandscape: 'Horizontal',
      aspectSquare: 'Cuadrado',
      aspectPortrait: 'Vertical',
      frameRate: 'Velocidad de fotogramas',
      fpsLabel: '{fps} FPS',
      overlays: 'Superposiciones',
      statsOverlay: 'Panel de estadísticas (distancia, ritmo, elevación)',
      elevationProfile: 'Gráfico de perfil de elevación',
      logoNote: 'La marca de agua del logo siempre se incluye.',
      recording: 'Grabando',
      recordingIntro: 'Grabando introducción...',
      recordingOutro: 'Grabando cierre...',
      stageFinalizing: 'Finalizando...',
      noCanvas: 'No se encontró el lienzo del mapa. Carga una ruta primero.',
      stagePreparing: 'Preparando...',
      stageCreateCanvas: 'Creando lienzo de grabación...',
      stageLoadOverlay: 'Cargando librería de captura de superposiciones...',
      stageResetting: 'Reiniciando al inicio...',
      stageSetupRecorder: 'Configurando grabador...',
      stageComplete: '¡Completado!',
      stageFailedNoData: 'La exportación falló: no se registraron datos',
      stageStartingRecording: 'Iniciando grabación...',
      stageRecordingAnimation: 'Grabando animación...',
      stageFailedWithError: 'La exportación falló: {error}',
    },
    map: {
      loading: 'Cargando mapa...',
    },
    errors: {
      noValidGpx: 'No se encontraron archivos GPX válidos',
      parseGpxFailed: 'No se pudieron analizar los archivos GPX',
    },
  },
  ca: {
    app: {
      title: 'Trail Replay',
      subtitle: 'VISUALITZACIÓ GPX',
      welcomeTitle: 'Benvingut a Trail Replay v2',
      welcomeBody: 'Puja fitxers GPX per visualitzar rutes, crear viatges i exportar vídeos espectaculars.',
      welcomeNotice: 'Nova experiència v2! Canvia de versió amb el selector del capçal.',
      uploadButton: 'Pujar fitxers GPX',
      exploreButton: 'Explorar mapa',
      aboutTitle: 'Sobre & Info',
      fullscreen: 'Pantalla completa',
      support: 'Donar suport',
      supportTitle: 'Dona suport a TrailReplay',
    },
    sidebar: {
      tabs: {
        tracks: 'Rutes',
        journey: 'Viatge',
        annotations: 'Estil',
        pictures: 'Mèdia',
        export: 'Exportar',
        settings: 'Ajustos',
      },
      footerTitle: 'Trail Replay',
      footerSubtitle: 'Visualització GPX v2.0',
      footerGithub: 'Veure a GitHub',
    },
    tracks: {
      dropTitle: 'Arrossega i deixa fitxers GPX',
      dropActive: 'Deixa els fitxers GPX aquí',
      dropBrowse: 'o fes clic per buscar',
      parsing: 'Analitzant fitxers GPX...',
      loadedTracks: 'Rutes carregades ({count})',
      dragReorder: 'Arrossega per reordenar',
      comparisonTitle: 'Mode comparació',
      comparisonHint: 'Afegeix una segona ruta GPX per comparar en paral·lel durant l’animació.',
      addComparison: '+ Afegir ruta de comparació',
      parsingComparison: 'Analitzant...',
      emptyTitle: 'Cap ruta carregada',
      emptySubtitle: 'Puja fitxers GPX per començar',
      explore: 'Explorar mapa',
      comparisonToggleOpen: '▾',
      comparisonToggleClosed: '▸',
      clickRename: 'Clica per renomenar',
      distance: 'Distància',
      time: 'Temps',
      speed: 'Velocitat',
      gain: 'guany',
      loss: 'pèrdua',
      max: 'màx',
      points: 'punts',
    },
    settings: {
      title: 'Estil del mapa',
      overlaysTitle: 'Superposicions',
      cameraTitle: 'Mode de càmera',
      displayOptions: 'Opcions de visualització',
      show3dTerrain: 'Terreny 3D',
      showHeartRate: 'Colors de pols',
      showPictures: 'Mostrar imatges',
      mapStyles: {
        satellite: 'Satèl·lit',
        topo: 'Topogràfic',
        street: 'Carrers',
        outdoor: 'Exterior',
        esri: 'Esri Clarity',
        wayback: 'Wayback',
      },
      overlays: {
        placeLabels: 'Noms de llocs',
        placeLabelsDesc: 'Etiquetes de Carto',
        skiPistes: 'Pistes d’esquí',
        skiPistesDesc: 'Superposició OpenSnowMap',
        slope: 'Pendent',
        slopeDesc: 'Pendent del terreny en colors',
        aspect: 'Orientació',
        aspectDesc: 'Orientació del terreny (N/E/S/O)',
      },
      waybackDate: 'Data Wayback',
      waybackLoading: 'Carregant dates...',
      waybackSelect: 'Selecciona una data',
      waybackNote: 'Dates de publicació, no de captura exacta.',
      waybackError: 'No s’han pogut carregar les dates de Wayback.',
      slopeLegendTitle: 'Pendents del terreny',
      slopeLegendMild: '<25° — Suau',
      slopeLegendModerate: '25–30° — Moderada',
      slopeLegendSteep: '30–35° — Forta',
      slopeLegendVerySteep: '35–40° — Molt forta',
      slopeLegendExtreme: '40–45° — Extrema',
      slopeLegendCliff: '>45° — Cingle',
      slopeLegendFooter: 'Calculat amb AWS Terrain Tiles',
      aspectLegendTitle: 'Orientació del terreny',
      aspectLegendNorth: 'Nord',
      aspectLegendNortheast: 'Nord-est',
      aspectLegendEast: 'Est',
      aspectLegendSoutheast: 'Sud-est',
      aspectLegendSouth: 'Sud',
      aspectLegendSouthwest: 'Sud-oest',
      aspectLegendWest: 'Oest',
      aspectLegendNorthwest: 'Nord-oest',
      aspectLegendFooter: 'Transparent en terreny molt pla',
      cameraModes: {
        overview: 'Panoràmica',
        overviewDesc: 'Vista fixa de tota la ruta',
        follow: 'Seguir',
        followDesc: 'Segueix el marcador des de dalt',
        followBehind: 'Seguir des del darrere',
        followBehindDesc: 'Vista cinematogràfica des del darrere',
      },
      followPresets: {
        title: 'Preset de distància',
        veryClose: 'Molt a prop',
        close: 'A prop',
        medium: 'Mitjà',
        far: 'Lluny',
      },
      units: 'Unitats',
      unitMetric: 'Mètric (km)',
      unitImperial: 'Imperial (mi)',
      language: 'Idioma',
    },
    info: {
      title: 'Sobre Trail Replay',
      builtWith: 'Construït amb',
      builtWithBody: 'MapLibre GL JS, React, Vite i proveïdors de mapes oberts.',
      acknowledgments: 'Veure agraïments',
      mapSources: 'Fonts de mapes',
      connect: 'Connecta',
      github: 'Veure a GitHub',
      instagram: 'Segueix a Instagram',
      support: 'Dona suport al projecte',
      donateTitle: 'Convida’m a un cafè',
      donateSubtitle: 'Ajuda a mantenir TrailReplay gratuït',
      legal: 'Legal',
      privacy: 'Política de privacitat',
      terms: 'Termes del servei',
      feedback: 'Feedback',
      feedbackTitle: 'Enviar feedback',
      feedbackSubtitle: 'Reporta errors o suggereix funcions',
      footer: 'Fet amb amor per a amants de la natura',
      esri: 'Esri World Imagery i Wayback: satèl·lit i històric.',
      opensnow: 'OpenSnowMap.org: pistes d’esquí. Dades © OpenStreetMap (ODbL), OpenSnowMap (CC-BY-SA).',
      osmContrib: 'col·laboradors (ODbL) ·',
      osmOpenTopo: '(CC-BY-SA) ·',
      osmLabels: 'etiquetes ·',
      osmOpenTopography: 'OpenTopography (ASTER GDEM)',
    },
    feedback: {
      promptTitle: 'Vols compartir la teva opinió?',
      promptBody: 'Ens encantaria saber quina versió prefereixes: v1 o v2.',
      yes: 'I tant!',
      maybeLater: 'Més tard',
      dontAsk: 'No preguntis més',
      formHeader: 'Feedback de comparació',
      formTitle: 'Quina versió prefereixes?',
      formSubtitle: 'Ajuda’ns a prioritzar millores',
      v1: 'v1 (Clàssica)',
      v2: 'v2 (Nova)',
      both: 'Ambdues',
      v1Label: 'Clàssica',
      v2Label: 'Nova',
      additional: 'Comentaris addicionals? (opcional)',
      additionalPlaceholder: 'Què t’agrada o no de cada versió?',
      emailLabel: 'El teu email (opcional, per seguiment)',
      emailPlaceholder: 'email@example.com',
      submit: 'Enviar',
      skip: 'Ometre',
      submitting: 'Enviant...',
      thanks: 'Gràcies pel feedback!',
      thanksTitle: 'Gràcies!',
      thanksBody: 'El teu feedback ens ajuda a millorar Trail Replay.',
      error: 'Alguna cosa ha anat malament. Torna-ho a provar.',
      errorSend: 'No s’ha pogut enviar el feedback. Torna-ho a provar.',
    },
    stats: {
      distance: 'Distància',
      duration: 'Durada',
      avgPace: 'Ritme mitjà',
      elev: 'Elevació',
      cadence: 'Cadència',
      power: 'Potència',
      track: 'Ruta',
      transport: 'Transport',
      transportLabels: {
        car: 'Conduint',
        bus: 'Bus',
        train: 'Tren',
        plane: 'Volant',
        bike: 'Ciclisme',
        walk: 'Caminant',
        ferry: 'Ferri',
      },
    },
    common: {
      name: 'Nom',
      color: 'Color',
      cancel: 'Cancel·lar',
      save: 'Desar',
      done: 'Fet',
      clickRename: 'Clica per renomenar',
      secondsShort: 's',
      processing: 'Processant...',
    },
    colors: {
      trailOrange: 'Taronja trail',
      green: 'Verd',
      teal: 'Turquesa',
      blue: 'Blau',
      red: 'Vermell',
      purple: 'Lila',
    },
    activities: {
      running: 'Córrer',
      runner: 'Corredor',
      cycling: 'Ciclisme',
      cyclist: 'Ciclista',
      hiking: 'Senderisme',
      walking: 'Caminar',
      walker: 'Caminant',
      skiing: 'Esquí',
      swimming: 'Natació',
      climbing: 'Escalada',
      horse: 'Cavall',
      kayak: 'Caiac',
      skate: 'Skate',
      ski: 'Esquí',
      snowboard: 'Snowboard',
      car: 'Cotxe',
      plane: 'Avió',
      train: 'Tren',
    },
    annotations: {
      tracksTitle: 'Rutes',
      trailTitle: 'Ruta',
      noTracks: 'Carrega un track GPX per ajustar-ne el color i el nom.',
      trackLabel: 'Ruta {index}',
      mainTrack: 'Ruta principal',
      comparisonNumbered: 'Comparació {index}',
      comparisonSingle: 'Comparació',
      labelsTitle: 'Etiquetes',
      showOnMap: 'Mostrar al mapa',
      labelsHint: 'El nom de cada ruta apareix al costat del seu marcador al mapa.',
      markerTitle: 'Marcador',
      showMarker: 'Mostrar marcador',
      size: 'Mida',
      activityIcon: 'Icona d\'activitat',
      changeIcon: 'Canviar icona',
      glowCircle: 'Cercle de brillantor',
      selectIcon: 'Selecciona una icona d\'activitat',
    },
    journey: {
      defaultSettings: 'Ajustos predeterminats',
      defaultTrackTime: 'Temps per defecte de la ruta',
      defaultTrackTimeHint: 'Cada ruta trigarà aquest temps a completar-se a l\'animació',
      totalDistance: 'Distància total:',
      totalDuration: 'Durada total:',
      totalSegments: 'Segments:',
      quickStart: 'Inici ràpid',
      quickStartHint: '1) Afegeix rutes a sota. 2) Arrossega per reordenar. 3) Usa “Afegeix transport” entre rutes.',
      addAllTracks: 'Afegeix totes les rutes',
      clearJourney: 'Esborra el viatge',
      addTracksTitle: 'Afegeix rutes al viatge',
      addTracksHint: 'Clica una ruta per afegir-la a la línia de temps. Les rutes afegides queden desactivades.',
      added: 'afegida',
      timelineTitle: 'Línia de temps del viatge',
      dragToReorder: 'Arrossega per reordenar',
      emptyTitle: 'Cap segment al viatge',
      emptySubtitle: 'Afegeix rutes i transports',
      addTransport: 'Afegeix transport',
      runsSimultaneously: 'S\'executen simultàniament',
      runsSimultaneouslyHint: 'Aquestes rutes s\'animen al mateix temps que el teu viatge principal, de principi a fi.',
      fullJourney: 'viatge complet',
      selectTransportTitle: 'Selecciona mode de transport',
      selectTransportHint: 'Com has viatjat entre aquestes rutes?',
      editDurationTitle: 'Editar durada',
      durationSeconds: 'Durada (segons)',
      durationHint: 'Aquest és el temps que durarà aquest segment a l\'animació',
      goToSegment: 'Vés a aquest segment',
      transportSegment: 'Transport {mode}',
    },
    media: {
      picturesTab: 'Fotos ({count})',
      videosTab: 'Vídeos ({count})',
      dropFiles: 'Deixa els fitxers aquí',
      dragDropPictures: 'Arrossega i deixa fotos',
      dragDropVideos: 'Arrossega i deixa vídeos',
      dropBrowse: 'o fes clic per buscar',
      noPictures: 'No hi ha fotos pujades',
      noPicturesHint: 'Afegeix fotos per mostrar-les al mapa',
      noVideos: 'No hi ha vídeos pujats',
      noVideosHint: 'Afegeix vídeos per mostrar-los al mapa',
      previewPicture: 'Previsualitza foto',
      trailAlt: 'Ruta',
      gps: 'GPS',
      percentOfJourney: '{percent}% del viatge',
      displayDuration: '{seconds}s en pantalla',
      editDuration: 'Editar durada',
      displayFor: 'Mostrar durant:',
      seconds: 'segons',
      trailPictureAlt: 'Foto de la ruta',
      imageUnavailable: 'Imatge no disponible',
    },
    export: {
      title: 'Ajustos d\'exportació',
      format: 'Format',
      ratio: 'Relació',
      quality: 'Qualitat',
      duration: 'Durada',
      fallbackWebm: '(WebM)',
      howItWorksTitle: 'Com funciona:',
      howItWorksBody:
        'La gravació captura la vista completa del mapa —incloent-hi la superposició d\'estadístiques, el perfil d\'elevació i l\'animació del track— exactament com es veu a la pantalla. L\'animació es reinicia a l\'inici abans de començar a gravar.',
      startRecording: 'Inicia gravació',
      needsJourney: 'Carrega una ruta i afegeix-la al viatge primer',
      recordingInProgress: 'Gravació en curs...',
      complete: 'Exportació completada!',
      downloadAgain: 'Torna a descarregar',
      newExport: 'Nova exportació',
      mp4Unsupported:
        'MP4 no és compatible de forma nativa amb aquest navegador. Es gravarà com a WebM. Usa Safari o Chrome per exportar MP4 natiu.',
      mp4Supported: 'Gravació MP4 nativa compatible.',
      aspectRatio: 'Relació d\'aspecte',
      aspectLandscape: 'Horitzontal',
      aspectSquare: 'Quadrat',
      aspectPortrait: 'Vertical',
      frameRate: 'Velocitat de fotogrames',
      fpsLabel: '{fps} FPS',
      overlays: 'Superposicions',
      statsOverlay: 'Superposició d\'estadístiques (distància, ritme, elevació)',
      elevationProfile: 'Gràfic del perfil d\'elevació',
      logoNote: 'La marca d\'aigua del logo sempre s\'inclou.',
      recording: 'Gravant',
      recordingIntro: 'Gravant introducció...',
      recordingOutro: 'Gravant tancament...',
      stageFinalizing: 'Finalitzant...',
      noCanvas: 'No s\'ha trobat el llenç del mapa. Carrega una ruta primer.',
      stagePreparing: 'Preparant...',
      stageCreateCanvas: 'Creant llenç de gravació...',
      stageLoadOverlay: 'Carregant la llibreria de captura de superposicions...',
      stageResetting: 'Reiniciant a l\'inici...',
      stageSetupRecorder: 'Configurant enregistrador...',
      stageComplete: 'Completat!',
      stageFailedNoData: 'L\'exportació ha fallat: no s\'han enregistrat dades',
      stageStartingRecording: 'Iniciant gravació...',
      stageRecordingAnimation: 'Gravant animació...',
      stageFailedWithError: 'L\'exportació ha fallat: {error}',
    },
    map: {
      loading: 'Carregant mapa...',
    },
    errors: {
      noValidGpx: 'No s\'han trobat fitxers GPX vàlids',
      parseGpxFailed: 'No s\'han pogut analitzar els fitxers GPX',
    },
  },
} as const;

export type LanguageCode = keyof typeof translations;

export const languageLabels: Record<LanguageCode, string> = {
  en: 'English',
  es: 'Español',
  ca: 'Català',
};

export function getInitialLanguage(): LanguageCode {
  if (typeof window === 'undefined') return 'en';
  try {
    const saved = localStorage.getItem('trailReplayLang');
    if (saved && saved in translations) {
      return saved as LanguageCode;
    }
  } catch (_) {}
  const browser = navigator.language?.slice(0, 2) as LanguageCode | undefined;
  return browser && browser in translations ? browser : 'en';
}

export function translate(lang: LanguageCode, key: string, params: Record<string, string | number> = {}): string {
  const resolve = (source: any) => key.split('.').reduce((acc, part) => acc?.[part], source);
  const raw = resolve(translations[lang]) ?? resolve(translations.en);
  if (typeof raw !== 'string') return key;
  return raw.replace(/\{(\w+)\}/g, (_, k) => String(params[k] ?? `{${k}}`));
}
